<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>RainDB - Home</title>
    
    <script src="raindb.js"></script>
    <script>
        var sections = ["mods"];
        function toggle(section) {
            if (section == "mods") {
                shuffleArray(Mods);
                generateHTML("1.9", Mods, "", "v1.9 Mods", 51);
            }

            for (var i=0; i<sections.length; i+=1) {
                if (section == sections[i])
                    document.getElementById(sections[i]).style.display = "block";
                else
                    document.getElementById(sections[i]).style.display = "none";
            }
        }
    </script>

    <!-- CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,600">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet" href="assets/css/form-elements.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/media-queries.css">

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script type="text/javascript">
    function applyTooltip(my_prefix, my_id) {
        // Tooltip only Text
        $('.'+my_prefix+'_'+my_id).hover(function(){
                // Hover over code
                var title = $(this).attr('title');
                $(this).data('tipText', title).removeAttr('title');
                $('<p class="tooltipp"></p>')
                .text(title)
                .appendTo('body')
                .fadeIn('fast');
        }, function() {
                // Hover out code
                $(this).attr('title', $(this).data('tipText'));
                $('.tooltipp').remove();
        }).mousemove(function(e) {
                var mousex = e.pageX + 20; //Get X coordinates
                var mousey = e.pageY + 10; //Get Y coordinates
                $('.tooltipp')
                .css({ top: mousey, left: mousex })
        });
    }

    function sortByKey(array, key) {
        return array.sort(function(a, b) {
            var x = a[key]; var y = b[key];
            return ((x < y) ? -1 : ((x > y) ? 1 : 0));
        });
    }
    </script>
    <style type="text/css">
        .tooltipp {
            display:none;
            position:absolute;
            border:1px solid #333;
            background-color:#161616;
            border-radius:5px;
            padding:5px;
            color:#fff;
            font-size:12px;
            max-width:420px;
            line-height: 1.25;
        }
		#mod-search {
			height:1.5em;
			background-color:transparent;
			border-left:0px;
			border-top:0px;
			border-right:0px;
			border-bottom:1px solid #666;
			color:#555;
		}
        #infobox {
            position: fixed;
            left: 15%;
            top: 10%;
            width: 70%;
            height: 80%;
            border: 4px black solid;
            color: black;
            border-radius: 8px;
            background-color: #fff;
            text-overflow: auto;
            overflow: auto;
        }
        #infobox_dependency_warning {
            color: red;
            font-weight: bold;
        }

        .spoiler{ 
          color: black; 
          background-color:black;
        }

        .spoiler:hover {
          color: white;
        }

		.no-results {
			font-weight: bold;
		}
    </style>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

    <!-- Favicon and touch icons -->
    <link rel="shortcut icon" href="./assets/ico/facvicon.jpg">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">

    <!-- OpenGraph meta tags -->
    <meta property="og:title" content="RainDB" />
    <meta property="og:description" content="The Rain World mods database."/>
    <meta property="og:image" content="./assets/ico/facvicon.jpg" />
    <!-- <meta property="og:url" content="https://example.com/your-page-url" /> -->
    <meta property="og:type" content="website" />

</head>

<body>
   
    <!-- Loader -->
    <div class="loader" style="display: none;">
        <div class="loader-img" style="display: none;"></div>
    </div>

    <!-- Nav Bar -->
    <nav class="navbar-inverse navbar-fixed-top" style="background: #444;" role="navigation">
        <div class="container">
            <div>
                <ul class="nav navbar-nav">
                    <li><a href="https://www.raindb.net/index.html">Home</a>
                    </li>
                    <li class="heading-divider">|</li>
                    <li><a href="https://www.raindb.net/legacy.html">Legacy Mods</a>
                    </li>
                    <li class="heading-divider">|</li>
                    <li><a href="https://www.raindb.net/tools.html">Modding Tools</a>
                    </li>
                    <li class="heading-divider">|</li>
                    <li><a href="https://www.raindb.net/tutorials.html">Tutorials</a>
                    </li>
                    <li class="heading-divider">|</li>
                    <li><a target="_blank" href="https://rainworldmodding.miraheze.org/wiki/Main_Page">Modding Wiki</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Top content -->
    <div class="top-content" style="position: relative; z-index: 0; background: none; height: 400px;">
        <div class="inner-bg" style="padding:120px;">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 text">
                        <h1 style="font-size: 500%; margin-left: -428px; width: 1615px; text-shadow: 2px 2px #000000;">Rain World Mod Database</h1>
                        <div class="description" style="visibility: visible;">
                            <h1 style="margin-left: 0px; margin-top: 51px; text-shadow: 2px 2px #000000;">RainDB, for short.</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Portfolio -->
    <a id="main"></a>
    <div class="portfolio-container section-container" style="margin-left: 0px; margin-top: -30px; height: inherit;">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 section-description wow fadeIn animated" style="visibility: visible; animation-name: fadeIn; text-align:left; float:left; margin-left:5px;">
                   <b>Search:</b> <input type="text" id="mod-search" name="search" onchange="doSearch(this.value)" autocomplete="off" spellcheck="false" autofocus>
                </div>
                <div class="col-sm-4 section-description wow fadeIn animated" style="visibility: visible; animation-name: fadeIn; text-align:right; float:right; margin-left:5px;">
                    <b>Filter by Tag:</b> <select name="tag_filter" id="tag_filter" onchange="filterChanged()">
                        <option value=""> </option>
                        <option value="arenas">Arenas</option>
                        <option value="regions">Regions</option>
                        <option value="campaigns">Campaigns</option>
                        <option value="creatures">Creatures</option>
                        <option value="game mechanics">Game Mechanics</option>
                        <option value="items">Items</option>
                        <option value="cosmetics">Cosmetics</option>
                        <option value="game modes">Game Modes</option>
                        <option value="dependency">Dependency</option>
                        <option value="accessibility">Accessibility</option>
                        <option value="translations">Translations</option>
                        <option value="tools">Tools</option>
                      </select>
                </div>
            </div>

            <div id="mods" style="display:block;">
                <div id="1.9_title"></div>
                <div class="divider-1" style="visibility: visible; animation-name: fadeInUp;"><span></span></div>
                <b>Show:</b> <a onclick="generateHTML('1.9', Mods, '', 'v1.9 Mods', 51)" href="#main">All</a> | <a onclick="generateHTML('1.9', Mods, 'new', 'v1.9 Mods (Newest)', 51)" href="#main">Newest</a>
                <div id="1.9_gallery"></div>
            </div>

            <div class="row"><br><br><i>Last updated on <span id="modifiedDate"></span>.<br>[<a href="https://github.com/AndrewFM/RainDB/commits/master" target="_blank">View Change List</a>]</i></div>        
            <div id="infobox" style="display:none;">
                <h3><b><div id="infobox_title"></div></b></h3>
                <img id="infobox_thumbnail" src="" alt="" style="width:360px;height:203px;" \>
                <h4><b>Download: </b> [<a href="" id="infobox_workshopurl" target="_blank">Workshop</a>] [<a id="infobox_directurl" href="">Direct</a>]</h4>
                <span id="infobox_dependency_warning" style="display:none">(This mod has dependencies! Make sure you also have all of the mods listed below installed)</span>
                <div id="infobox_dependencies" style="text-align:left; padding:16px;"></div>
                <hr>
                <div id="infobox_desc" style="text-align:left; padding:16px;"></div>
            </div>

        </div>
    </div>

    <!-- POPULATE MODS -->
    <script>
        var dateoptions = { year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById("modifiedDate").innerHTML = (new Date(document.lastModified)).toLocaleDateString("en-US", dateoptions);

        var search = "";
        var tagFilterValue = "";
        var generateLastHTML = null;
        var generateLastHTMLArgs = [];
        var reachedEndOfScroll = false;
        function doSearch(searchString) {
            let newSearch = searchString.toLowerCase().trim();
            if(search != newSearch) {
                search = newSearch;
                if(generateLastHTML != null)
                    generateLastHTML(generateLastHTMLArgs[0], generateLastHTMLArgs[1], generateLastHTMLArgs[2], generateLastHTMLArgs[3], 51);
            }
        }
        
        var searchTimeout = null;
        document.getElementById("mod-search").addEventListener("input", function(e) {
            if(searchTimeout != null) clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => { doSearch(this.value) }, 300);
        });

        document.addEventListener('click', function(e){   
          if (!document.getElementById('infobox').contains(e.target)){
            document.getElementById('infobox').style['display'] = 'none';
            if (!e.target.parentElement.onclick?.toString().includes("showInfoboxWithModInfo(") && 
                !e.target.onclick?.toString().includes("showInfoboxWithModInfo(")
            ) history.replaceState(null, document.title, window.location.pathname + window.location.search);

          }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                if (!document.getElementById('infobox').contains(e.target)) {
                        document.getElementById('infobox').style['display'] = 'none';
                    if (!e.target.parentElement.onclick?.toString().includes("showInfoboxWithModInfo(") && 
                        !e.target.onclick?.toString().includes("showInfoboxWithModInfo(")
                    ) history.replaceState(null, document.title, window.location.pathname + window.location.search);
                }
            }
        });


        window.addEventListener("scroll", loadOnScroll);

        function loadOnScroll() {
            const endOfPage = window.innerHeight + window.pageYOffset >= document.body.offsetHeight - 400;
            if (endOfPage && !reachedEndOfScroll) {
                if(generateLastHTML != null)
                    generateLastHTML(generateLastHTMLArgs[0], generateLastHTMLArgs[1], generateLastHTMLArgs[2], generateLastHTMLArgs[3], generateLastHTMLArgs[4] + 51);
            }
        }

        function showInfoboxWithModInfo(workshop_id) {
            var modinfo = null;
            for(var i=0; i<Mods.length; i++) {
                if (Mods[i]["workshop_id"] === workshop_id) {
                    modinfo = Mods[i];
                    break;
                }
            }
            if (modinfo === null)
                return;
            document.getElementById('infobox_title').innerHTML = modinfo['name'];
            if (!('workshop_id' in modinfo) || modinfo['workshop_id'] === "")
                document.getElementById('infobox_workshopurl').href = modinfo['url'];
            else
                document.getElementById('infobox_workshopurl').href = "https://steamcommunity.com/sharedfiles/filedetails/?id=" + modinfo['workshop_id'];
            document.getElementById('infobox_directurl').href = modinfo['url'];
            document.getElementById('infobox_desc').innerHTML = formatSteamTags(modinfo['desc']);

            var useThumb = "previews/default.png"
                if ("thumb" in modinfo)
                    useThumb = modinfo["thumb"];
            document.getElementById('infobox_thumbnail').src = useThumb;

            var showDependencyWarning = false;
            if (!("requirements" in modinfo) || modinfo["requirements"] === "")
                document.getElementById('infobox_dependencies').innerHTML = "";
            else {
                var reqArray = modinfo["requirements"].split(",");
                var reqNamesArray = reqArray;
                if ("requirement_names" in modinfo) {
                    reqNamesArray = modinfo["requirement_names"].split(",");
                    if (reqArray.length !== reqNamesArray.length)
                        reqNamesArray = reqArray;
                }

                var reqHTML = "<hr><h4><b>Dependencies:</b></h4><ul>";
                for(var i=0; i<reqArray.length; i++) {
                    var reqMod = null;
                    for(var j=0; j<Mods.length; j++) {
                        if (Mods[j]["id"] === reqArray[i]) {
                            reqMod = Mods[j];
                            break;
                        }
                    }

                    if (reqMod === null) {
                        reqHTML += "<li>" + reqNamesArray[i] + "</li>";
                    } else {
                        reqHTML += "<li>" + reqNamesArray[i] + '  [<a href="https://steamcommunity.com/sharedfiles/filedetails/?id=' + reqMod['workshop_id'] + '" target="_blank">Workshop</a>] [<a href="' + reqMod['url'] + '">Direct</a>]</li>'
                        showDependencyWarning = true;
                    }
                }
                reqHTML += "</ul>";
                document.getElementById('infobox_dependencies').innerHTML = reqHTML;
            }

            if (showDependencyWarning)
                document.getElementById('infobox_dependency_warning').style['display'] = 'block';
            else
                document.getElementById('infobox_dependency_warning').style['display'] = 'none';

            setTimeout(()=>{document.getElementById('infobox').style['display'] = 'block';}, 100);
            window.location.hash = "#" + workshop_id
        }

        function stripSteamTags(text) {
            var tags = ["h1", "h2", "h3", "h4", "h5", "h6", "b", "u", "i", "strike", "spoiler", "noparse", "hr", "list", "olist", "*", "code", "table", "tr", "th", "td"];
            var strtext = text;
            for (var i=0; i<tags.length; i++) {
                strtext = strtext.replaceAll("[" + tags[i] + "]", "");
                strtext = strtext.replaceAll("[/" + tags[i] + "]", "");
            }
            strtext = strtext.replaceAll("[/url]", "");
            while (strtext.includes("[url=")) {
                var uind = strtext.indexOf("[url=");
                strtext = strtext.replace("[url=", "");
                var strSub = strtext.slice(uind);
                var useInd = strSub.indexOf("]") + uind;
                strtext = strtext.slice(0, uind) + strtext.slice(useInd + 1);
            }
            strspl = strtext.split(" ");
            for (var i=0; i<strspl.length; i++) {
                brspl = strspl[i].split("<br>");
                for (var j=0; j<brspl.length; j++) {
                    if (brspl[j].length > 35)
                        brspl[j] = brspl[j].slice(0, 35) + "...";
                }
                strspl[i] = brspl.join("<br>");
            }
            return strspl.join(" ");
        }

        function formatSteamTags(text) {
            var directMaps = ["h1", "h2", "h3", "h4", "h5", "h6", "b", "u", "i", "strike", "hr", "table", "tr", "th", "td", "list", "olist", "code", "noparse"];
            var formtext = text;
            for (var i=0; i<directMaps.length; i++) {
                var replaceWith = directMaps[i];
                if (directMaps[i] === "h1")
                    replaceWith = "h3";
                if (directMaps[i] === "h2")
                    replaceWith = "h4";
                if (directMaps[i] === "h3")
                    replaceWith = "h5";
                if (directMaps[i] === "h4")
                    replaceWith = "h6";
                if (directMaps[i] === "h5")
                    replaceWith = "h6";
                if (directMaps[i] === "code" || directMaps[i] === "noparse")
                    replaceWith = "pre";
                if (directMaps[i] === "list")
                    replaceWith = "ul";
                if (directMaps[i] === "olist")
                    replaceWith = "ol";
                formtext = formtext.replaceAll("[" + directMaps[i] + "]", "<" + replaceWith + ">");
                formtext = formtext.replaceAll("[/" + directMaps[i] + "]", "</" + replaceWith + ">");
            }
            formtext = formtext.replaceAll("[spoiler]", '<span class="spoiler">');
            formtext = formtext.replaceAll("[/spoiler]", '</span>');
            while (formtext.includes("[*]")) {
                var bind = formtext.indexOf("[*]");
                formtext = formtext.replace("[*]", "<li>");
                var formSub = formtext.slice(bind);
                var nextBul = formSub.indexOf("[*]");
                var nextOl = formSub.indexOf("</ol>");
                var nextUl = formSub.indexOf("</ul>");
                if (nextBul === -1)
                    nextBul = Number.MAX_VALUE;
                if (nextOl === -1)
                    nextOl = Number.MAX_VALUE;
                if (nextUl === -1)
                    nextUl = Number.MAX_VALUE;
                var useInd = Math.min(nextBul, nextOl, nextUl);
                if (useInd === Number.MAX_VALUE) {
                    continue;
                }
                useInd += bind;
                formtext = formtext.slice(0, useInd) + "</li>" + formtext.slice(useInd);
            }
            formtext = formtext.replaceAll("[/url]", '</a>');
            while (formtext.includes("[url=")) {
                var uind = formtext.indexOf("[url=");
                formtext = formtext.replace("[url=", "");
                var formSub = formtext.slice(uind);
                var usehref = formSub.slice(0, formSub.indexOf("]"));
                var useInd = formSub.indexOf("]") + uind;
                formtext = formtext.slice(0, uind) + "<a href='" + usehref + "' target='_blank'>" + formtext.slice(useInd + 1);
            }
            return formtext;
        }

        function shuffleArray(array) {
            for (var i = array.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                var temp = array[i];
                array[i] = array[j];
                array[j] = temp;
            }
        }

        function filterChanged() {
            tagFilterValue = document.getElementById("tag_filter").value
            if(generateLastHTML != null)
                generateLastHTML(generateLastHTMLArgs[0], generateLastHTMLArgs[1], generateLastHTMLArgs[2], generateLastHTMLArgs[3], 51);
        }

        function generateHTML(div_id, input_array, filter, title, max_items) {
            generateLastHTML = generateHTML;
            generateLastHTMLArgs = arguments;
        
            var appendStr = "";
            var count = 0;
            var tooltipIds = [];
            var warnTipIds = [];
            var partTipIds = [];
            var authorTipIds = [];
            var trailerTipIds = []
            var mods_array = input_array;
            if (filter == "new")
                mods_array = sortByKey(JSON.parse(JSON.stringify(input_array)), "order").reverse();
            document.getElementById(div_id+"_gallery").innerHTML = "";
            reachedEndOfScroll = true;
            /*for (var i=0; i<mods_array.length; i++) {
                for(var j=0; j<mods_array.length; j++) {
                    if (i !== j && mods_array[i]["id"] === mods_array[j]["id"]) {
                        console.log("DUPLICATE ID: " + mods_array[i]["id"])
                    }
                }
            }*/
            for (var i=0; i<mods_array.length; i++) {
                var useAuthorExt = "";
                var useAuthor = "";
                if ("author" in mods_array[i])
                    useAuthor = mods_array[i]["author"].replaceAll("<br>", " ");
                if (useAuthor.length > 35)
                    useAuthor = useAuthor.substring(0, 35) + "...";

                if ("author_ext" in mods_array[i])
                    useAuthorExt = mods_array[i]["author_ext"].replaceAll("<br>", " ");
                else if ("author" in mods_array[i] && mods_array[i]["author"].length > 35)
                    useAuthorExt = mods_array[i]["author"].replaceAll("<br>", " ");

                // Filter mods by search term
                if(search != "" &&
                    !mods_array[i]["name"].toLowerCase().includes(search) &&
                    (!useAuthor.toLowerCase().includes(search)) &&
                    (!useAuthorExt.toLowerCase().includes(search)) &&
                    (!("search_key" in mods_array[i]) || !mods_array[i]["search_key"].toLowerCase().includes(search)))
                    continue;

                if (tagFilterValue !== "" && (!("tags" in mods_array[i]) || !mods_array[i]["tags"].toLowerCase().includes(tagFilterValue.toLowerCase())))
                    continue;
                
                if (filter == "mod" && ((!("mod" in mods_array[i]) && !("patch" in mods_array[i])) 
                  || ("mod" in mods_array[i] && mods_array[i]["mod"] == false)
                  || ("patch" in mods_array[i] && mods_array[i]["patch"] == false)) )
                    continue;
                else if (filter != "" && filter != "new" && filter != "mod" && ((filter in mods_array[i] && mods_array[i][filter] == false) || !(filter in mods_array[i])))
                    continue;
                if (count % 3 == 0) {
                    appendStr += '<div class="row">';
                }
                appendStr += '<div class="col-sm-4 portfolio-box wow" style="visibility: visible;"><div class="portfolio-box-image">';
                var useThumb = "previews/default.png"
                if ("thumb" in mods_array[i])
                    useThumb = mods_array[i]["thumb"];
                appendStr += '<img src="' + useThumb + '?raw=true" alt="" data-ax2x="' + useThumb + '?raw=true" style="width:360px;height:203px;cursor: pointer;" onclick="showInfoboxWithModInfo(\'' + mods_array[i]["workshop_id"] + '\')"></div>';
                appendStr += '<h3 style="margin-top:8px"><a style="cursor: pointer" onclick="showInfoboxWithModInfo(\'' + mods_array[i]["workshop_id"] + '\'); return false;" style="margin-left: 0px; margin-top: -1px;" target="_blank" href=#' + mods_array[i]["workshop_id"] + '><b>' + mods_array[i]["name"] + '</b></a>';
                
                // Icons
                if ("video" in mods_array[i])
                    appendStr += '<div style="display:inline-block; position:absolute; right:0; margin-right:20px;"><a href="' + mods_array[i]["video"] + '" target="_blank"><img class="trailerTooltip_'+i+'" src="assets/ico/video.png" title="Click to view trailer video"/></a></div>';
                if ("video" in mods_array[i])
                    trailerTipIds.push(i);
                
                appendStr += "</h3>";
                if ("req" in mods_array[i]) {
                    appendStr += '<div style="display:inline-block; position:absolute; right:0; margin-top:-10px; margin-right:20px;"><img class="masterTooltip_'+i+'" src="assets/ico/message.png" title="'+mods_array[i]["req"]+'"/></div>';
                    tooltipIds.push(i);
                }
                if ("warn" in mods_array[i]) {
                    appendStr += '<div style="display:inline-block; position:absolute; right:0; margin-top:-10px; margin-right:20px;"><img class="warnTooltip_'+i+'" src="assets/ico/Warning.png" title="'+mods_array[i]["warn"]+'"/></div>';
                    warnTipIds.push(i);
                }
                appendStr += '<div class="portfolio-box-date"><p style="margin-left: 0px; margin-top: -10px;">';
                var usesAuthor = false;
                if (useAuthorExt !== "") {
                    appendStr += 'By <span class="authorTooltip_'+i+'" title="'+useAuthorExt+'" style="color:#ff8a38;">' + useAuthor + "</span><br>";
                    authorTipIds.push(i);
                    usesAuthor = true;
                }
                else if (useAuthor !== "") {
                    appendStr += 'By ' + useAuthor + "<br>";
                    usesAuthor = true;
                }
                if (!usesAuthor)
                    appendStr += "<br><br>";

                var useDesc = stripSteamTags(mods_array[i]["desc"]);
                useDesc = useDesc.replaceAll("<br>", " ");
                if (useDesc.length > 150)
                    useDesc = useDesc.substring(0, 150) + "...";
                appendStr += '</p></div><p style="text-align:justify">' + useDesc + "</p></div>";
                if (count % 3 == 2 || count == mods_array.length-1) {
                    appendStr += "</div>";
                }
                count += 1

                if (count >= max_items) {
                    reachedEndOfScroll = false;
                    break;
                }
            }
            
            if(count == 0) {
                appendStr += '<p class="no-results">No results found. Try changing your search term.</p>';
            }
            
            document.getElementById(div_id+"_gallery").innerHTML = appendStr
            document.getElementById(div_id+"_title").innerHTML = '<h1 style="font-size:48px;"><b>'+title+'</b></h1>'
            for (var i=0; i<tooltipIds.length; i++)
                applyTooltip("masterTooltip", tooltipIds[i]);
            for (var i=0; i<partTipIds.length; i++)
                applyTooltip("partTooltip", partTipIds[i]);
            for (var i=0; i<warnTipIds.length; i++)
                applyTooltip("warnTooltip", warnTipIds[i]);
            for (var i=0; i<authorTipIds.length; i++)
                applyTooltip("authorTooltip", authorTipIds[i]);
            for (var i=0; i<trailerTipIds.length; i++)
                applyTooltip("trailerTooltip", trailerTipIds[i]);
        }

        toggle("mods");

        if (window.location.hash != "") {
            showInfoboxWithModInfo(window.location.hash.slice(1))
        }
    </script>

    <!-- Footer -->
    <footer>
        <div class="container-fluid">
            <div class="row">
                <center>
                    <h3 style="margin-top: -20px;"><br>RainDB is maintained by <a href="http://egg-zero.com/" target="_blank">AndrewFM</a> &nbsp;--&nbsp; ( Site template: <a href="http://azmind.com/maren-bootstrap-free-business-template/" target="_blank">Maren</a> )</h3>
                </center>
            </div>
        </div>
    </footer>

    <!-- Javascript -->
    <script src="assets/js/jquery-1.11.1.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/jquery.backstretch.min.js"></script>
    <script src="assets/js/wow.min.js"></script>
    <script src="assets/js/retina-1.1.0.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/scripts.js"></script>
    <script>$('.top-content').backstretch("assets/img/backgrounds/1.jpg");</script>

    <!--[if lt IE 10]>
            <script src="assets/js/placeholder.js"></script>
        <![endif]-->
</body>
